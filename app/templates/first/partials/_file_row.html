<tr
    class="hover:bg-base-300 relative transition-colors duration-500 ease-out"
    id="file-row-{{ file.uuid }}">
    <td class="font-medium">
        <a
            class="hover cursor-pointer"
            href="{{ url_for('first.preview_file', uuid=file.uuid) }}">
            {{ file.name }}
        </a>
    </td>
    <td>
        {% if file.preprocessed %}
            <div class="badge badge-success badge-sm badge-soft">
                preprocessed
            </div>
        {% endif %}
    </td>

    <td>{{ file.size_mb }} MB</td>
    <td>{{ file.created_at }}</td>
    <td>
        <div class="dropdown dropdown-left">
            <div
                tabindex="0"
                role="button"
                class="btn btn-xs m-1">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
                </svg>
            </div>
            <div
                tabindex="0"
                class="dropdown-content menu bg-base-100 rounded-box z-1 p-2 shadow-sm">
                <button
                    class="btn btn-xs btn-outline"
                    onclick="openRenameModal(`{{ file.uuid }}`, `{{ file.name }}`, `{{ url_for('first.rename_file', uuid=file.uuid) }}`)">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                    Rename
                </button>
                <button
                    class="btn btn-xs btn-outline btn-error"
                    hx-delete="{{ url_for('first.delete_file', uuid=file.uuid) }}"
                    hx-confirm="Are you sure you want to delete this file? This action cannot be undone."
                    hx-target="closest tr"
                    hx-swap="outerHTML">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                    Delete
                </button>
            </div>
        </div>
    </td>
</tr>
